import os
from time import sleep
import Pentesting.ModuleTools as Module

wifi_file = "Output/Wifi.txt"

ssid_list = []
bssid_list = []





#############################
#                           #
# Receive AP data from file #
#                           #
#############################


def GetAP():
    with open(wifi_file, "r") as file:
        next(file)
        for line in file:
            parts = line.strip().split()
            if len(parts) >=2:
                ssid = parts[0]
                ssid_list.append(ssid)
                bssid = parts[1]
                bssid_list.append(bssid)



#############################
#                           #
#    Receive handshake      #
#                           #
#############################
                

def GetHandShake(num):
    num = num - 1
    # Aanvullen

def Start():
    reset = True

    GetAP()
    Module.clean()
    while reset:   
        Module.line()
        print(" ")
        for i in range(len(ssid_list)):
            print(f"[ {Module.TGREEN}{i + 1}{Module.TWHITE} ] " + ssid_list[i], bssid_list[i])
        keuze = int(input(f"\nMake a choice!\n--> "))
        if keuze <= 0:
            Module.clean()
            print("nee")
        elif keuze > i + 1:
            Module.clean()
            print("nee")
        else:
            print("ja")
            reset = False
            GetHandShake(keuze)
    

