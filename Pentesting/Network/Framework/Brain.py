import Pentesting.Network.Scans.DeviceScan as device
import Pentesting.Network.Scans.Handshake as handshake
import Pentesting.Network.Scans.Deauth as deauth
import Pentesting.Network.Scans.Wifi as wifi
import Pentesting.Network.Scans.PhoneNumberScan as phone
import Pentesting.ModuleTools as Module
from time import sleep
from tqdm import tqdm




#############################
#                           #
#       Device Scan         #
#                           #
#############################

def Bar_device():
    print(" ")
    with tqdm(total=100, desc=f"Loading Device Scan") as pbar:
            for i in range(100):
                pbar.update(1)
                sleep(0.1)
    print(" ")

def Start_Device():
    Module.line()
    Bar_device()
    Module.line()
    ip = input(f"\nGive valid ip\n--> ")
    sub = int(input("Give valid range\n-->  "))
    device.StartScan(ip, sub)
    Done()




#############################
#                           #
#      Handshake Scan       #
#                           #
#############################
    
def Start_handshake():
    print("Handshake")
    sleep(3)
    #handshake.GetHandshake()




#############################
#                           #
#       Deauth Module       #
#                           #
#############################
    
def Start_Deauth():
    print("Deauth")
    sleep(3)
    #deauth.Start()




#############################
#                           #
#       Process Bars        #
#                           #
#############################

def Bar_Wifi():
    print(" ")
    with tqdm(total=100, desc=f"Loading Wifi Scan") as pbar:
            for i in range(100):
                pbar.update(1)
                sleep(0.1)
    print(" ")

def Bar_Phone():
    print(" ")
    with tqdm(total=100, desc=f"Loading Phone Scan") as pbar:
            for i in range(100):
                pbar.update(1)
                sleep(0.1)
    print(" ")




#############################
#                           #
#          Scripts          #
#                           #
#############################
    

def Start_Wifi():
    Module.line()
    Bar_Wifi()
    Module.line()
    wifi.StartScan()
    Done()

    
def Start_Phone():
    Module.line()
    Bar_Phone()
    Module.line()
    number = input("\nGive number with country code! (+1 US/CA)\n--> ")
    phone.ScanPhone(number)
    Done()




#############################
#                           #
#       Outro Module        #
#                           #
#############################

def Done():
    Module.clean()
    Module.line()
    print(f"""


        Scans are done all the data will be found under Network/Output!
          
          This screen will close in {Module.TRED}15 seconds{Module.TWHITE} and the Framework will start again!


          """)
    Module.line()
    sleep(15)