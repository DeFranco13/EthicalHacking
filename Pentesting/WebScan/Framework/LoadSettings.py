import json
from time import sleep
from tqdm import tqdm

data = ""
data_json_path = "WebScan/Input/settings.json"

def LoadRobot():
      with open(data_json_path, "r") as json_file:
            data = json.load(json_file)
            robotScanState = data.get("GetRobot", "")
            return robotScanState
def LoadScan():   
     with open(data_json_path, "r") as json_file:
            data = json.load(json_file)
            dataScanState = data.get("DataScan", "")
            return dataScanState          
def LoadCertificate():
      with open(data_json_path, "r") as json_file:
            data = json.load(json_file)
            dataCertificateState = data.get("CertificateScan", "")
            return dataCertificateState
def PreviousData():
      with open(data_json_path, "r") as json_file:
            data = json.load(json_file)
            previousData = data.get("ClearPreviousOutputs", "")
            return previousData   
def LoadService():
      with open(data_json_path, "r") as json_file:
            data = json.load(json_file)
            serviceDate = data.get("ServiceScan", "")
            return serviceDate
def LoadDirbuster():
      with open(data_json_path, "r") as json_file:
            data = json.load(json_file)
            dirbusterDate = data.get("DirbusterScan", "")
            return dirbusterDate
      
def load_settings():
        with tqdm(total=100, desc=f"Loading settings") as pbar:
            for i in range(100):
                pbar.update(1)
                sleep(0.12)

        global scanState
        global certificateState
        global previousDataState
        global serviceState
        global dirbusterState
        global robotState

        robotState = LoadRobot()
        dirbusterState = LoadDirbuster()
        serviceState = LoadService()
        previousDataState = PreviousData()
        scanState = LoadScan()
        certificateState = LoadCertificate()
        
        

        
        

